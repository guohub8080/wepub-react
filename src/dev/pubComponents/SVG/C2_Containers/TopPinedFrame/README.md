# TopPinedFrame ç½®é¡¶æ¡†æ¶ç»„ä»¶

## ç»„ä»¶ç®€ä»‹

TopPinedFrame æ˜¯ä¸€ä¸ªçº¯ç²¹çš„**ç½®é¡¶æ¡†æ¶å®¹å™¨ç»„ä»¶**ï¼Œç”¨äºåŒ…è£¹å…¶ä»–å†…å®¹å¹¶æä¾›ç½®é¡¶æ•ˆæœçš„æ ·å¼ã€‚é€šè¿‡ CSS å±‚å ä¸Šä¸‹æ–‡å®ç°å†…å®¹"æµ®"åœ¨é¡µé¢å…¶ä»–å…ƒç´ ä¹‹ä¸Šçš„è§†è§‰æ•ˆæœã€‚

## ä½¿ç”¨æ–¹å¼

```tsx
import TopPinedFrame from "@pubSVG/C2_Containers/TopPinedFrame";
import SeamlessImg from "@pubSVG/C1_Standard/SeamlessImg";

// åŸºç¡€ä½¿ç”¨ï¼ˆæ™®é€šæ¨¡å¼ï¼‰
<TopPinedFrame>
  <SeamlessImg url="https://example.com/image.jpg" />
</TopPinedFrame>

// å¸¦è¾¹è·é…ç½®
<TopPinedFrame mp={{ mt: 10, mb: 10 }}>
  {/* ä»»æ„å†…å®¹ */}
</TopPinedFrame>

// äº‹ä»¶ç©¿é€æ¨¡å¼ï¼ˆæ¡†æ¶å†…çš„å†…å®¹ä¸å“åº”ç‚¹å‡»ç­‰äº‹ä»¶ï¼‰
<TopPinedFrame isEventPassThrough={true}>
  <SeamlessImg url="https://example.com/decorative-bg.jpg" />
</TopPinedFrame>

// åŠ å¼ºæ¨¡å¼ï¼ˆä½¿ç”¨3Då˜æ¢å¢å¼ºå±‚çº§ä¼˜å…ˆçº§ï¼‰
<TopPinedFrame isEnhanced={true}>
  <SeamlessImg url="https://example.com/important-content.jpg" />
</TopPinedFrame>
```

## Props å‚æ•°

| å±æ€§ | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `children` | `ReactNode` | å¦ | - | æ¡†æ¶å†…çš„å†…å®¹ |
| `mp` | `mpProps` | å¦ | - | è¾¹è·é…ç½®ï¼ˆmt, mb, ml, mrï¼‰ |
| `isEventPassThrough` | `boolean` | å¦ | `false` | æ˜¯å¦å¼€å¯äº‹ä»¶ç©¿é€æ¨¡å¼ |
| `isEnhanced` | `boolean` | å¦ | `false` | æ˜¯å¦å¼€å¯åŠ å¼ºæ¨¡å¼ï¼ˆ3Då˜æ¢ï¼‰ |

## ç½®é¡¶åŸç†è¯¦è§£

### ğŸ”‘ æ ¸å¿ƒæœºåˆ¶

TopPinedFrame çš„"ç½®é¡¶"æ•ˆæœä¸»è¦ä¾é  **CSS å±‚å ä¸Šä¸‹æ–‡ï¼ˆStacking Contextï¼‰** å®ç°ï¼Œæ ¸å¿ƒæ˜¯ä¸¤ä¸ªå…³é”®çš„ CSS å±æ€§ï¼š

#### 1. `isolation: "isolate"` ï¼ˆæœ€å…³é”®ï¼‰

```tsx
isolation: "isolate" as any
```

**ä½œç”¨ï¼š**
- åˆ›å»ºä¸€ä¸ª**æ–°çš„å±‚å ä¸Šä¸‹æ–‡**ï¼ˆç‹¬ç«‹çš„ z-index å±‚çº§ç©ºé—´ï¼‰
- å°†è¯¥å…ƒç´ åŠå…¶å­å…ƒç´ éš”ç¦»åœ¨ä¸€ä¸ªç‹¬ç«‹çš„"å±‚çº§åŸŸ"ä¸­
- ä½¿å…¶åœ¨æ¸²æŸ“æ—¶ç‹¬ç«‹äºé¡µé¢å…¶ä»–å†…å®¹è¿›è¡Œå±‚çº§è®¡ç®—

**åœ¨å¾®ä¿¡å…¬ä¼—å·ä¸­çš„è¡¨ç°ï¼š**
- å½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼Œè¿™ä¸ªæ¡†æ¶å†…çš„å†…å®¹ä¼š"æµ®"åœ¨å…¶ä»–æ™®é€šå†…å®¹ä¹‹ä¸Š
- ç±»ä¼¼äºåˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„"å›¾å±‚"ï¼Œä¸å—å…¶ä»–å…ƒç´ çš„ z-index å½±å“
- åœ¨è§†è§‰ä¸Šå½¢æˆ"ç½®é¡¶"æˆ–"æµ®å±‚"çš„æ•ˆæœ

#### 2. `transform: "scale(1)"` ï¼ˆåŒé‡ä¿é™©ï¼‰

```tsx
transform: "scale(1)"
```

**ä½œç”¨ï¼š**
- è™½ç„¶ `scale(1)` è¡¨ç¤ºä¸ç¼©æ”¾ï¼ˆä¿æŒåŸæ ·ï¼‰ï¼Œä½†**ä»»ä½• transform å±æ€§éƒ½ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡**
- è¿™æ˜¯ä¸€ä¸ªå…¼å®¹æ€§ä¿é™©æªæ–½ï¼Œç¡®ä¿åœ¨ä¸æ”¯æŒ `isolation` çš„ç¯å¢ƒä¸­ä¹Ÿèƒ½åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡
- åœ¨å¾®ä¿¡ç¼–è¾‘å™¨ä¸­æä¾›é¢å¤–çš„å±‚çº§éš”ç¦»ä¿éšœ

### ğŸ“š å±‚å ä¸Šä¸‹æ–‡çŸ¥è¯†è¡¥å……

åœ¨ CSS ä¸­ï¼Œä»¥ä¸‹å±æ€§ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡ï¼š

1. âœ… `isolation: isolate` ï¼ˆæœ¬ç»„ä»¶ä½¿ç”¨ï¼‰
2. âœ… `transform` ä¸ä¸º `none` ï¼ˆæœ¬ç»„ä»¶ä½¿ç”¨ï¼‰
3. `opacity` å°äº 1
4. `position: fixed` æˆ– `position: sticky`
5. `z-index` ä¸ä¸º `auto` ä¸”æœ‰å®šä½ï¼ˆrelative/absolute/fixedï¼‰
6. `will-change` æŒ‡å®šäº†æŸäº›å±æ€§
7. `filter` ä¸ä¸º `none`
8. `backdrop-filter` ä¸ä¸º `none`

TopPinedFrame åŒæ—¶ä½¿ç”¨äº† **isolation** å’Œ **transform**ï¼Œå½¢æˆ**åŒé‡ä¿éšœ**ï¼Œç¡®ä¿åœ¨å„ç§ç¯å¢ƒä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚

### ğŸ¯ å®Œæ•´æ ·å¼è¯´æ˜

```tsx
const innerSectionStyle: CSSProperties = {
  textAlign: "center",      // å†…å®¹å±…ä¸­å¯¹é½
  lineHeight: 0,            // æ¶ˆé™¤è¡Œé«˜ï¼Œé¿å…é¢å¤–ç©ºç™½
  margin: "0 auto",         // æ°´å¹³å±…ä¸­
  display: "block",         // å—çº§å…ƒç´ 
  transform: "scale(1)",    // åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡ï¼ˆåŒä¿é™©ï¼‰
  isolation: "isolate"      // åˆ›å»ºç‹¬ç«‹å±‚å ä¸Šä¸‹æ–‡ï¼ˆæ ¸å¿ƒï¼‰
};
```

### ğŸ“± åœ¨å¾®ä¿¡å…¬ä¼—å·ä¸­çš„å®é™…æ•ˆæœ

```
é¡µé¢ç»“æ„ç¤ºæ„ï¼š
æ™®é€šå†…å®¹åŒº
â”œâ”€â”€ æ–‡å­—æ®µè½
â”œâ”€â”€ å›¾ç‰‡
â”œâ”€â”€ TopPinedFrameï¼ˆç‹¬ç«‹å±‚å ä¸Šä¸‹æ–‡ï¼‰â† ä¼š"æµ®"åœ¨å…¶ä»–å†…å®¹ä¹‹ä¸Š
â”‚   â””â”€â”€ childrenï¼ˆä¾‹å¦‚å›¾ç‰‡ã€SVGç­‰ï¼‰
â”œâ”€â”€ æ›´å¤šæ–‡å­—
â””â”€â”€ å…¶ä»–å†…å®¹
```

å½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼ŒTopPinedFrame å†…çš„å†…å®¹å› ä¸ºå¤„äºç‹¬ç«‹çš„å±‚å ä¸Šä¸‹æ–‡ï¼Œä¼šè¡¨ç°å‡º"ç½®é¡¶"æˆ–"æµ®å±‚"çš„è§†è§‰æ•ˆæœï¼Œä¸ä¼šè¢«å…¶ä»–å†…å®¹é®æŒ¡ã€‚

## äº‹ä»¶ç©¿é€åŸç†è¯¦è§£

### ğŸ”‘ æ ¸å¿ƒæœºåˆ¶

äº‹ä»¶ç©¿é€é€šè¿‡ **`pointer-events: none`** CSS å±æ€§å®ç°ï¼Œè®©æ¡†æ¶å†…çš„å†…å®¹å˜æˆ"é€æ˜"çš„è£…é¥°å±‚ï¼Œä¸æ‹¦æˆªç”¨æˆ·çš„ç‚¹å‡»ã€è§¦æ‘¸ç­‰äº¤äº’äº‹ä»¶ã€‚

#### `pointer-events: "none"` çš„ä½œç”¨

```tsx
const innerPassThroughStyle: CSSProperties = {
  ...innerSectionStyle,
  pointerEvents: "none"  // å…³é”®å±æ€§
};
```

**ä½œç”¨ï¼š**
- ä½¿å…ƒç´ åŠå…¶æ‰€æœ‰å­å…ƒç´ **å®Œå…¨å¿½ç•¥**æŒ‡é’ˆäº‹ä»¶ï¼ˆç‚¹å‡»ã€è§¦æ‘¸ã€é¼ æ ‡æ‚¬åœç­‰ï¼‰
- äº‹ä»¶ä¼š"ç©¿é€"è¯¥å…ƒç´ ï¼Œç›´æ¥è§¦å‘åˆ°ä¸‹å±‚çš„å…ƒç´ ä¸Š
- å…ƒç´ ä»ç„¶å¯è§ï¼Œåªæ˜¯ä¸å“åº”ä»»ä½•äº¤äº’

### ğŸ¯ å…¸å‹ä½¿ç”¨åœºæ™¯

#### 1. **è£…é¥°æ€§èƒŒæ™¯**
```tsx
// é¡¶éƒ¨è£…é¥°å›¾æ¡ˆï¼Œä¸å½±å“ä¸‹æ–¹å†…å®¹çš„äº¤äº’
<TopPinedFrame isEventPassThrough={true}>
  <SeamlessImg url="decorative-pattern.png" />
</TopPinedFrame>

<section>
  <button>è¿™ä¸ªæŒ‰é’®å¯ä»¥æ­£å¸¸ç‚¹å‡»</button>
  {/* å³ä½¿è¢«ä¸Šé¢çš„è£…é¥°å±‚è¦†ç›– */}
</section>
```

#### 2. **æ°´å°æ•ˆæœ**
```tsx
// ç½®é¡¶æ°´å°ï¼Œç”¨æˆ·ä»å¯æ­£å¸¸æ“ä½œé¡µé¢
<TopPinedFrame isEventPassThrough={true}>
  <img src="watermark.png" style={{opacity: 0.3}} />
</TopPinedFrame>
```

#### 3. **æ°›å›´æ¸²æŸ“**
```tsx
// é¡¶éƒ¨å…‰æ™•ã€ç²’å­ç­‰è§†è§‰æ•ˆæœï¼Œä¸å¹²æ‰°å†…å®¹äº¤äº’
<TopPinedFrame isEventPassThrough={true}>
  <AnimatedParticles />
</TopPinedFrame>
```

### ğŸ“± äº‹ä»¶ç©¿é€å·¥ä½œåŸç†

```
ç”¨æˆ·ç‚¹å‡»ä½ç½®
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TopPinedFrame      â”‚  â† pointer-events: none
â”‚  (è£…é¥°å±‚ï¼Œäº‹ä»¶ç©¿é€)  â”‚     äº‹ä»¶è¢«å¿½ç•¥ï¼Œç»§ç»­å‘ä¸‹ä¼ é€’
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ ç©¿é€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸‹å±‚å¯äº¤äº’å†…å®¹      â”‚  â† æ¥æ”¶åˆ°äº‹ä»¶
â”‚  <Button />         â”‚     å“åº”ç”¨æˆ·ç‚¹å‡»
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **å…¨å±€ç©¿é€**ï¼š`pointer-events: none` ä¼šå½±å“**æ‰€æœ‰å­å…ƒç´ **ï¼Œå­å…ƒç´ ä¹Ÿæ— æ³•å“åº”äº‹ä»¶
2. **æ··åˆä½¿ç”¨**ï¼šå¦‚æœéœ€è¦éƒ¨åˆ†å†…å®¹å¯äº¤äº’ï¼Œåº”è¯¥å°†å¯äº¤äº’å…ƒç´ æ”¾åœ¨æ¡†æ¶å¤–
3. **è°ƒè¯•å›°éš¾**ï¼šç©¿é€æ¨¡å¼ä¸‹ï¼Œå…ƒç´ åœ¨å¼€å‘è€…å·¥å…·ä¸­ä»å¯é€‰ä¸­ï¼Œä½†å®é™…ä¸å“åº”äº‹ä»¶

## åŠ å¼ºæ¨¡å¼åŸç†è¯¦è§£

### ğŸ”‘ æ ¸å¿ƒæœºåˆ¶

åŠ å¼ºæ¨¡å¼é€šè¿‡ **3D å˜æ¢ `translateZ(0.01px)`** æ¥åˆ›å»ºæ›´å¼ºçš„å±‚å ä¸Šä¸‹æ–‡ï¼Œè¿›ä¸€æ­¥æå‡ç½®é¡¶ä¼˜å…ˆçº§ã€‚

#### `transform: "translateZ(0.01px)"` çš„ä½œç”¨

```tsx
const innerEnhancedStyle: CSSProperties = {
  ...
  transform: "translateZ(0.01px)",  // 3Då˜æ¢ï¼ˆå…³é”®ï¼‰
  isolation: "isolate"
};
```

**ä½œç”¨ï¼š**
- ä½¿ç”¨ **3D å˜æ¢**åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡ï¼Œæ¯” 2D å˜æ¢ï¼ˆå¦‚ `scale(1)`ï¼‰æ›´å¼º
- `translateZ` æ²¿ Z è½´ï¼ˆå‚ç›´å±å¹•æ–¹å‘ï¼‰ç§»åŠ¨å…ƒç´ ï¼Œåˆ›å»º"ç«‹ä½“ç©ºé—´"çš„æ„Ÿè§‰
- å³ä½¿åªç§»åŠ¨ `0.01px`ï¼ˆå‡ ä¹ä¸å¯è§ï¼‰ï¼Œä¹Ÿè¶³ä»¥è§¦å‘ GPU åŠ é€Ÿå’Œæ›´å¼ºçš„å±‚çº§ä¼˜å…ˆçº§
- é…åˆ `isolation: isolate`ï¼Œå½¢æˆæ›´ç¨³å›ºçš„å±‚çº§éš”ç¦»

### ğŸ¯ é€‚ç”¨åœºæ™¯

#### ä½•æ—¶ä½¿ç”¨åŠ å¼ºæ¨¡å¼ï¼Ÿ

1. **æ™®é€šæ¨¡å¼ä¸å¤Ÿå¼º**
   - åœ¨æŸäº›å¤æ‚é¡µé¢ä¸­ï¼Œæ™®é€šçš„ `scale(1)` å¯èƒ½å±‚çº§ä¸å¤Ÿ
   - å†…å®¹ä»è¢«å…¶ä»–å…ƒç´ é®æŒ¡

2. **éœ€è¦ç»å¯¹ç½®é¡¶**
   - å…³é”®å†…å®¹å¿…é¡»æ˜¾ç¤ºåœ¨æœ€é¡¶å±‚
   - ä¸èƒ½å®¹å¿ä»»ä½•å±‚çº§å†²çª

3. **å¤æ‚çš„å±‚çº§åµŒå¥—**
   - é¡µé¢æœ‰å¤šå±‚åµŒå¥—çš„å±‚å ä¸Šä¸‹æ–‡
   - éœ€è¦æ›´å¼ºçš„å±‚çº§ç©¿é€åŠ›

### ğŸ“± æ™®é€šæ¨¡å¼ vs åŠ å¼ºæ¨¡å¼

```
å±‚çº§å¼ºåº¦å¯¹æ¯”ï¼š

æ™®é€šæ¨¡å¼ï¼š
transform: scale(1)  â†’  åˆ›å»ºæ™®é€šå±‚å ä¸Šä¸‹æ–‡

åŠ å¼ºæ¨¡å¼ï¼š
transform: translateZ(0.01px)  â†’  åˆ›å»º3Då±‚å ä¸Šä¸‹æ–‡ï¼ˆæ›´å¼ºï¼‰
```

**å·®å¼‚ï¼š**
- **æ™®é€šæ¨¡å¼**ï¼šä½¿ç”¨ 2D å˜æ¢ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯
- **åŠ å¼ºæ¨¡å¼**ï¼šä½¿ç”¨ 3D å˜æ¢ï¼Œè§¦å‘ GPU åŠ é€Ÿï¼Œå±‚çº§ä¼˜å…ˆçº§æ›´é«˜

### ğŸ’¡ æŠ€æœ¯ä¼˜åŠ¿

è¿™ç§å®ç°æ–¹å¼åœ¨å¾®ä¿¡å…¬ä¼—å·ç¼–è¾‘å™¨ä¸­ç‰¹åˆ«æœ‰æ•ˆï¼Œå› ä¸ºï¼š

1. **ä¸ä¾èµ– `position: fixed`**
   - é¿å…è¢«å¾®ä¿¡ç¼–è¾‘å™¨é™åˆ¶æˆ–é‡ç½®
   - ä¸å½±å“é¡µé¢å¸ƒå±€æµ

2. **ä¸ä¾èµ– `z-index`**
   - é¿å…ä¸ç¼–è¾‘å™¨è‡ªèº«çš„å±‚çº§ç³»ç»Ÿå†²çª
   - ä¸éœ€è¦ç»´æŠ¤å¤æ‚çš„ z-index æ•°å€¼

3. **çº¯ CSS å®ç°**
   - æ— éœ€ JavaScript
   - æ€§èƒ½å¼€é”€å°

4. **å…¼å®¹æ€§å¥½**
   - åŒé‡æœºåˆ¶ä¿éšœï¼ˆisolation + transformï¼‰
   - åœ¨å„ç§å¾®ä¿¡ç‰ˆæœ¬ä¸­è¡¨ç°ç¨³å®š

## é€‚ç”¨åœºæ™¯

### æ™®é€šæ¨¡å¼
- éœ€è¦å†…å®¹å§‹ç»ˆæ˜¾ç¤ºåœ¨é¡µé¢é¡¶å±‚
- åˆ¶ä½œå¯äº¤äº’çš„æµ®å±‚æ•ˆæœ
- é¿å…å†…å®¹è¢«å…¶ä»–å…ƒç´ é®æŒ¡
- åˆ›å»ºç‹¬ç«‹çš„è§†è§‰å±‚çº§

### äº‹ä»¶ç©¿é€æ¨¡å¼
- è£…é¥°æ€§é¡¶å±‚èƒŒæ™¯/å›¾æ¡ˆ
- æ°´å°ã€ç‰ˆæƒæ ‡è¯†
- æ°›å›´æ¸²æŸ“ï¼ˆå…‰æ™•ã€ç²’å­ç‰¹æ•ˆç­‰ï¼‰
- ä»»ä½•éœ€è¦è§†è§‰å­˜åœ¨ä½†ä¸å½±å“äº¤äº’çš„å…ƒç´ 

### åŠ å¼ºæ¨¡å¼
- å¤æ‚é¡µé¢ä¸­å±‚çº§ä¸å¤Ÿçš„æƒ…å†µ
- å…³é”®å†…å®¹å¿…é¡»ç»å¯¹ç½®é¡¶
- å¤šå±‚åµŒå¥—çš„å±‚å ä¸Šä¸‹æ–‡ç¯å¢ƒ
- ä¸å…¶ä»–ç½®é¡¶å…ƒç´ æœ‰å†²çªæ—¶

## æ³¨æ„äº‹é¡¹

### é€šç”¨æ³¨æ„äº‹é¡¹
1. **å±‚å ä¸Šä¸‹æ–‡éš”ç¦»**ï¼šå­å…ƒç´ çš„ z-index åªåœ¨å½“å‰ä¸Šä¸‹æ–‡å†…æœ‰æ•ˆï¼Œä¸ä¼šå½±å“å¤–éƒ¨å…ƒç´ 
2. **æ€§èƒ½è€ƒè™‘**ï¼šè¿‡å¤šçš„å±‚å ä¸Šä¸‹æ–‡å¯èƒ½å½±å“æ¸²æŸ“æ€§èƒ½ï¼Œè¯·æŒ‰éœ€ä½¿ç”¨
3. **åµŒå¥—ä½¿ç”¨**ï¼šå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œä½†ä¼šåˆ›å»ºå¤šå±‚ç‹¬ç«‹çš„å±‚å ä¸Šä¸‹æ–‡
4. **margin è¦†ç›–**ï¼šä¸è¦åœ¨ `mp` ä¸­ä¼ é€’ `marginLeft` æˆ– `marginRight`ï¼Œä¼šè¢«å†…å±‚çš„ `auto` è¦†ç›–
5. **åŠŸèƒ½ç‹¬ç«‹**ï¼š`isEnhanced` å’Œ `isEventPassThrough` æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ï¼Œåˆ†åˆ«å¤„ç†ä¸åŒçš„éœ€æ±‚

### äº‹ä»¶ç©¿é€æ¨¡å¼æ³¨æ„äº‹é¡¹
1. **å…¨å±€ç©¿é€**ï¼šå¼€å¯åï¼Œæ¡†æ¶å†…**æ‰€æœ‰**å†…å®¹éƒ½æ— æ³•å“åº”äº‹ä»¶
2. **æ— æ³•éƒ¨åˆ†ç©¿é€**ï¼šå¦‚éœ€éƒ¨åˆ†å…ƒç´ å¯äº¤äº’ï¼Œåº”å°†å…¶æ”¾åœ¨æ¡†æ¶å¤–
3. **è°ƒè¯•æç¤º**ï¼šç©¿é€çš„å…ƒç´ åœ¨å¼€å‘è€…å·¥å…·ä¸­çœ‹èµ·æ¥æ­£å¸¸ï¼Œä½†å®é™…ä¸å“åº”ç‚¹å‡»

### åŠ å¼ºæ¨¡å¼æ³¨æ„äº‹é¡¹
1. **æ€§èƒ½å¼€é”€**ï¼š3D å˜æ¢ä¼šè§¦å‘ GPU åŠ é€Ÿï¼Œå¯èƒ½å¢åŠ å†…å­˜å ç”¨
2. **ä¼˜å…ˆä½¿ç”¨æ™®é€šæ¨¡å¼**ï¼šé™¤éç¡®å®éœ€è¦ï¼Œå¦åˆ™ä¸å»ºè®®é»˜è®¤ä½¿ç”¨åŠ å¼ºæ¨¡å¼
3. **ä¸æ˜¯ä¸‡èƒ½çš„**ï¼šå³ä½¿åœ¨åŠ å¼ºæ¨¡å¼ä¸‹ï¼Œä»å¯èƒ½è¢«æŸäº›ç‰¹æ®Šå…ƒç´ é®æŒ¡

## å®ç°ä»£ç 

### å®Œæ•´å®ç°

```tsx
const TopPinedFrame = (props: {
  children?: ReactNode
  mp?: mpProps
  isEventPassThrough?: boolean  // äº‹ä»¶ç©¿é€å¼€å…³
  isEnhanced?: boolean          // åŠ å¼ºæ¨¡å¼å¼€å…³
}) => {
  const mpResult = mpGet(byDefault(props.mp, mpBlank));
  const isEventPassThrough = byDefault(props.isEventPassThrough, false);
  const isEnhanced = byDefault(props.isEnhanced, false);

  // åŠ¨æ€æ ·å¼
  const rootStyle: CSSProperties = {
    ...mpResult,
    ...rootBaseStyle
  };

  // åŠ å¼ºæ¨¡å¼ï¼ˆä½¿ç”¨3Då˜æ¢ï¼‰
  if (isEnhanced) {
    return (
      <SectionEx style={rootStyle} data-label="top-pined-frame-enhanced">
        <SectionEx style={innerEnhancedStyle}>
          {props.children}
        </SectionEx>
      </SectionEx>
    );
  }

  // äº‹ä»¶ç©¿é€æ¨¡å¼
  if (isEventPassThrough) {
    return (
      <SectionEx style={rootStyle} data-label="top-pined-frame-passthrough">
        <SectionEx style={innerPassThroughStyle}>
          {props.children}
        </SectionEx>
      </SectionEx>
    );
  }

  // æ™®é€šæ¨¡å¼
  return (
    <SectionEx style={rootStyle} data-label="top-pined-frame">
      <SectionEx style={innerSectionStyle}>
        {props.children}
      </SectionEx>
    </SectionEx>
  );
}
```

### æ ·å¼å®šä¹‰

```tsx
// æ™®é€šæ¨¡å¼æ ·å¼
const innerSectionStyle: CSSProperties = {
  textAlign: "center",
  lineHeight: 0,
  marginTop: 0,
  marginLeft: "auto",
  marginRight: "auto",
  display: "block",
  transform: "scale(1)",      // åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡
  isolation: "isolate" as any // éš”ç¦»å±‚çº§
};

// äº‹ä»¶ç©¿é€æ¨¡å¼æ ·å¼
const innerPassThroughStyle: CSSProperties = {
  ...innerSectionStyle,
  pointerEvents: "none"  // å…³é”®ï¼šè®©æ‰€æœ‰äº‹ä»¶ç©¿é€
};

// åŠ å¼ºæ¨¡å¼æ ·å¼
const innerEnhancedStyle: CSSProperties = {
  textAlign: "center",
  lineHeight: 0,
  marginTop: 0,
  marginLeft: "auto",
  marginRight: "auto",
  display: "block",
  transform: "translateZ(0.01px)",  // å…³é”®ï¼š3Då˜æ¢å¢å¼ºå±‚çº§
  isolation: "isolate" as any
};
```

## ç›¸å…³èµ„æº

- [MDN - CSS isolation](https://developer.mozilla.org/zh-CN/docs/Web/CSS/isolation)
- [MDN - CSS transform](https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform)
- [MDN - CSS pointer-events](https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events)
- [MDN - å±‚å ä¸Šä¸‹æ–‡](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context)

