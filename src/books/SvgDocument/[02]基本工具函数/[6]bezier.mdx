export const title = "贝塞尔缓动函数 Bezier"
export const icon = "Activity"

# {title}

贝塞尔缓动函数用于生成各种缓动效果的贝塞尔曲线参数，让动画速度变化更自然。

## 什么是贝塞尔曲线？

在动画中，贝塞尔曲线用于控制速度的变化：

- **线性**：匀速运动（无缓动）
- **缓动**：加速或减速运动，更符合自然规律

贝塞尔曲线由 4 个数字组成：`x1 y1 x2 y2`，表示两个控制点的坐标。

## 为什么需要贝塞尔缓动？

### 线性运动（无缓动）
```
时间 ──────────────→
    ████████████
    匀速，不自然
```

### 缓动运动（有缓动）
```
时间 ──────────────→
    ████▓▓▓▓█████
    慢→快→慢，自然
```

**缓动让动画更自然、更舒适！**

## 支持的缓动类型

### Linear 线性

最简单的缓动，匀速运动。

```typescript
getLinearBezier()  // => "0 0 1 1"
```

**使用场景：**
- 轮播图自动切换
- 加载动画旋转
- 需要持续稳定的运动

---

### Ease 基础缓动

CSS 标准缓动，最常用的缓动效果。

```typescript
// ease（默认）：CSS 标准 ease
getEaseBezier()  // => "0.25 0.1 0.25 1"

// ease-in：开始慢，逐渐加速
getEaseBezier({ isIn: true, isOut: false })  // => "0.42 0 1 1"

// ease-out：开始快，逐渐减速
getEaseBezier({ isIn: false, isOut: true })  // => "0 0 0.58 1"

// ease-in-out：两端慢，中间快
getEaseBezier({ isIn: true, isOut: true })  // => "0.42 0 0.58 1"
```

**使用场景：**
- 元素进入/退出视野
- 按钮点击反馈
- 一般的交互动画

---

### Power 强力缓动

可调节 power 值的缓动，值越大加速度变化越明显。

```typescript
// power = 2：平方缓动
getPowerBezier({ power: 2, isIn: false, isOut: true })

// power = 4：四次方缓动（更强）
getPowerBezier({ power: 4, isIn: false, isOut: true })

// power = 5：五次方缓动（最强）
getPowerBezier({ power: 5, isIn: false, isOut: true })
```

**使用场景：**
- 强调性动画效果
- 游戏中的元素移动
- 需要明显速度变化的场景

---

### Circle 圆形缓动

基于圆的缓动曲线，变化更加平滑自然。

```typescript
getCircleBezier({ isIn: false, isOut: true })  // circ-out
getCircleBezier({ isIn: true, isOut: false })   // circ-in
getCircleBezier({ isIn: true, isOut: true })    // circ-in-out
```

**特点：**
- 比标准缓动更柔和
- 加速度变化像圆周运动一样平滑

**使用场景：**
- 精致的 UI 动画
- 背景元素移动
- 高品质视觉效果

---

### Expo 指数缓动

极快的速度变化，类似指数函数。

```typescript
getExpoBezier({ isIn: false, isOut: true })  // expo-out
getExpoBezier({ isIn: true, isOut: false })   // expo-in
getExpoBezier({ isIn: true, isOut: true })    // expo-in-out
```

**特点：**
- 开始或结束时几乎瞬间完成
- 视觉冲击力强

**使用场景：**
- 快速弹出/收起面板
- 警告或提示动画
- 快速反馈的交互

---

### Sine 正弦缓动

最柔和的速度变化，基于正弦函数。

```typescript
getSineBezier({ isIn: false, isOut: true })  // sine-out
getSineBezier({ isIn: true, isOut: false })   // sine-in
getSineBezier({ isIn: true, isOut: true })    // sine-in-out
```

**特点：**
- 所有缓动中最柔和
- 速度变化最小
- 视觉上最舒适

**使用场景：**
- 长时间的动画效果
- 背景或装饰性动画
- 优雅流畅的场合

---

### Elastic 弹性缓动

带有弹性效果的缓动，超出目标值后回弹。

```typescript
getElasticBezier0_1()  // 基础弹性
```

**特点：**
- 有明显的回弹效果
- 像弹簧一样运动

**使用场景：**
- 顽皮风格的动画
- 吸引注意力的效果
- 游戏界面动画

---

### Bounce 跳跃缓动

模拟物体落地的跳跃效果。

```typescript
getBounceBezier0_1()  // 基础跳跃
```

**特点：**
- 像球落地一样跳跃
- 有节奏感

**使用场景：**
- 物体下落动画
- 按钮按下效果
- 有趣的交互动画

---

### Back 回拉缓动

先向后拉一点，再冲向目标。

```typescript
getBackBezier0_1()  // 基础回拉
```

**特点：**
- 像拉弓射箭一样
- 有蓄力感

**使用场景：**
- 强调开始的动画
- 需要蓄力的效果
- 引导注意的动画

## 参数说明

所有缓动函数都支持两个参数：

| 参数 | 类型 | 说明 |
|------|------|------|
| `isIn` | boolean | 是否为缓入（开始慢） |
| `isOut` | boolean | 是否为缓出（结束慢） |

**组合效果：**

| isIn | isOut | 效果 |
|------|------|------|
| false | false | ease（默认） |
| true | false | ease-in（缓入） |
| false | true | ease-out（缓出） |
| true | true | ease-in-out（缓入缓出） |

## 使用示例

### 在 SVG 中使用

```tsx
import { getEaseBezier } from '@pub-utils/getBezier';

<animate
  attributeName="x"
  from="0"
  to="100"
  dur="2s"
  keySplines={getEaseBezier({ isIn: true, isOut: true })}
  calcMode="spline"
/>
```

### 在 CSS 中使用

```css
.element {
  transition: transform 0.3s cubic-bezier(0.42, 0, 0.58, 1);
}
```

### 与 genSvgKeySplines 配合使用

```tsx
import { genSvgKeySplines } from '@pub-utils/genSvgKeySplines';
import { getEaseBezier } from '@pub-utils/getBezier';

const keys = genSvgKeySplines({
  initValue: 0,
  timeline: [
    {
      keySplines: getEaseBezier({ isIn: false, isOut: true }),
      toValue: 100,
      durationSeconds: 2
    }
  ]
});
```

## 选择建议

| 场景 | 推荐缓动 | 原因 |
|------|----------|------|
| 进入/退出画面 | Ease Out | 结束时平滑 |
| 持续移动 | Linear | 速度恒定 |
| 强调效果 | Power 3-4 | 变化明显 |
| 精致动画 | Circle | 平滑自然 |
| 快速响应 | Expo Out | 快速完成 |
| 背景装饰 | Sine | 柔和优雅 |
| 顽皮风格 | Elastic | 有弹性 |
| 下落效果 | Bounce | 有跳跃感 |
| 蓄力效果 | Back | 有回拉感 |

## 可视化对比

```
速度曲线对比：

Linear:  ████████████████ (匀速)
Ease:    ████▓▓▓▓██████ (平滑)
Power:   ██▓▓▓▓▓▓███████ (明显)
Sine:    ████▓▓▓███████ (柔和)
Expo:    █▓▓▓██████████ (快速)
```

## 性能提示

贝塞尔缓动的计算成本很低，可以放心使用：
- 计算量：O(1)
- 内存占用：极小
- 兼容性：所有现代浏览器


